
## 使用基础核心

+ 路由 & 示例

+ 页面模板 & 示例

+ 异步数据 & 示例 & SSR 剖析

+ vuex 应用 & 示例

### 路由 & 示例

page 文件夹下的路由与页面名称相对应

```vue
   
    <!-- 作用和使用同 router-link -->
    <nuxt-link class="button" to="/about">
      About page
    </nuxt-link>
```

### 页面模板 & 示例

```vue
    <!-- nuxt 组件对应 router-view -->
    <nuxt/>
```

疑问:mian.css 是怎样进入页面生效的?

`nuxt.config.js 配置` [configuration](https://nuxtjs.org/api/configuration-build)

```javascript
module.exports = {
  /*
  ** Headers of the page
  */
  head: {
    // 浏览器 tab 页 头部 hover 时显示的名称
    title: 'starter',

    // 配置 html 页面的 meta 标签
    meta: [
      { charset: 'utf-8' },
      { name: 'viewport', content: 'width=device-width, initial-scale=1' },
      { hid: 'description', name: 'description', content: 'Nuxt.js project' }
    ],
    link: [
      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }
    ]
  },
  /*
  ** Global CSS - 全局 css
  */
  css: ['~assets/css/main.css'],
  /*
  ** Customize the progress-bar color
  */
  loading: { color: '#3B8070' },
  /*
   ** Build configuration
   */
  build: {
    /*
     ** Run ESLINT on save
     */
    extend(config, ctx) {
      if (ctx.isClient) {
        config.module.rules.push({
          enforce: 'pre',
          test: /\.(js|vue)$/,
          // 配置 eslint
          loader: 'eslint-loader',
          exclude: /(node_modules)/
        })
      }
    }
  }
}

```

### 异步数据 & 示例 & SSR 剖析


```javascript
asyncDate(){}
fetch(){}
```

server/index.js 没有把握就不要动

server/interface/city.js

```javascript
import Router from 'koa-router'

const router = new Router({
  prefix: '/city'
})

router.get('list', async(ctx) => {
  ctx.body = ['北京', '西安']
})

export default router

```

yarn add koa-router

然后 server.js 中引用 - 固定写法如下

```javascript
app.use(cityInterface.routes()).use(cityInterface.allowedMethods())

```

测试接口

```shell
curl http:localhost:3000/city/list
```
or 
直接浏览器访问

http:localhost:3000/city/list

#### 前端接口使用

`vue 中的原始写法 - 借助声明周期`

```vue
<template>
    <div class="" id="">
      page is search
      <ul>
        <li v-for = "(item,index) in list" :key = "index">{{item}}</li>
      </ul>
    </div>
</template>

<script>
import axios from 'axios'
export default {
  // 申明该路由要用的模板,默认使用 default
  layout: 'search',
  data() {
    return {
      list: []
    }
  },
  async mounted() {
    const self = this
    const res = await axios.get('/city/list')
    console.log(res)
    let {status, data: list} = res

    console.log(list)
    if (status === 200) {
      self.list = list
    }
  }
}
</script>
<style scoped>
/* css */

</style>
```

`Nuxt 中的使用`

```vue

```

除了下发编译好的内容
还下发了数据 —— 涉及 SSR 原理

