# vue SSR

## SSR 概述 - SSR 是什么

默认情况下，在浏览器中输出 Vue 组件，进行生成 DOM 和操作 DOM。

将组件渲染为服务器端的 HTML 字符串，将它们直接发送到浏览器

+ 解决 SU 问题
+ 内容快速展示

## SSR 原理

[vue SSR : 原理(一)](https://blog.csdn.net/weixin_34102807/article/details/86030460)


[](https://segmentfault.com/a/1190000017479484)

相当于服务端前面加了一层 url 分配，可以假想为服务端的中间层,当地址栏改变或直接刷新浏览器端拿到的是渲染好的包含内容(请求数据)的 HTML 字符串

而在交互过程中依然是 ajax 处理操作，局部刷新，首先是在 history 模式下，通过history. pushState 方式进而 url 改变，然后请求后台数据服务，拿到真正的数据，做到局部刷新，这时候接收的是数据而不是模板

### 为什么使用服务端渲染 SSR

 `更好的 SEO`由于搜索引擎爬虫抓取工具可以直接查看完全渲染的页面。 请注意，截至目前，Google 和 Bing 可以很好对同步 JavaScript 应用程序进行索引。在这里，同步是关键。如果你的应用程序初始展示 loading 菊花图，然后通过 Ajax 获取内容，抓取工具并不会等待异步完成后再行抓取页面内容。也就是说，如果 SEO 对你的站点至关重要，而你的页面又是异步获取内容，则你可能需要服务器端渲染(SSR)解决此问题。
`更快的内容到达时间(time-to-content)`特别是对于缓慢的网络情况或运行缓慢的设备。无需等待所有的 JavaScript 都完成下载并执行，才显示服务器渲染的标记，所以你的用户将会更快速地看到完整渲染的页面。通常可以产生更好的用户体验，并且对于那些「内容到达时间(time-to-content)与转化率直接相关」的应用程序而言，服务器端渲染(SSR)至关重要。

## vue SSR 渲染流程

渲染流程见 `2-Nust.js 工作流.md`

渲染之后才会扔给前端，包含:

+ 样式内容 - 以前是一个 link 标签
现在直接是 style 标签内联的 css 代码

+ 编译好的模板内容加数据

浏览器端会创建虚拟的编译结果与服务端返回的编译结果进行对比如果不一致会重新发出请求


这也是为什么服务器端要将数据同步给浏览器端

## 使用场景

交互少，数据多，例如新闻，博客，论坛类等
